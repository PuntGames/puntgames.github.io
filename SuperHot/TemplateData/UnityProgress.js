function UnityProgress(b){this.progress=0;this.message="";this.dom=b;b=b.parentNode;var a=document.createElement("div");a.style.background="#4D4D4D";a.style.position="absolute";b.appendChild(a);this.background=a;a=document.createElement("img");a.src="TemplateData/progresslogo.png";a.style.position="absolute";b.appendChild(a);this.logoImage=a;a=document.createElement("img");a.src="TemplateData/loadingbar.png";a.style.position="absolute";b.appendChild(a);this.progressFrame=a;a=document.createElement("img");
a.src="TemplateData/fullbar.png";a.style.position="absolute";b.appendChild(a);this.progressBar=a;a=document.createElement("p");a.style.position="absolute";b.appendChild(a);this.messageArea=a;this.SetProgress=function(a){this.progress<a&&(this.progress=a);this.messageArea.style.display="none";this.progressFrame.style.display="inline";this.progressBar.style.display="inline";this.Update()};this.SetMessage=function(a){this.message=a;this.background.style.display="inline";this.logoImage.style.display=
"inline";this.progressFrame.style.display="none";this.progressBar.style.display="none";this.Update()};this.Clear=function(){this.background.style.display="none";this.logoImage.style.display="none";this.progressFrame.style.display="none";this.progressBar.style.display="none"};this.Update=function(){this.background.style.top=this.dom.offsetTop+"px";this.background.style.left=this.dom.offsetLeft+"px";this.background.style.width=this.dom.offsetWidth+"px";this.background.style.height=this.dom.offsetHeight+
"px";var a=new Image;a.src=this.logoImage.src;var b=new Image;b.src=this.progressFrame.src;this.logoImage.style.top=this.dom.offsetTop+(0.5*this.dom.offsetHeight-0.5*a.height)+"px";this.logoImage.style.left=this.dom.offsetLeft+(0.5*this.dom.offsetWidth-0.5*a.width)+"px";this.logoImage.style.width=a.width+"px";this.logoImage.style.height=a.height+"px";this.progressFrame.style.top=this.dom.offsetTop+(0.5*this.dom.offsetHeight+0.5*a.height+10)+"px";this.progressFrame.style.left=this.dom.offsetLeft+(0.5*
this.dom.offsetWidth-0.5*b.width)+"px";this.progressFrame.width=b.width;this.progressFrame.height=b.height;this.progressBar.style.top=this.progressFrame.style.top;this.progressBar.style.left=this.progressFrame.style.left;this.progressBar.width=b.width*Math.min(this.progress,1);this.progressBar.height=b.height;this.messageArea.style.top=this.progressFrame.style.top;this.messageArea.style.left=0;this.messageArea.style.width="100%";this.messageArea.style.textAlign="center";this.messageArea.innerHTML=
this.message};this.Update()};
